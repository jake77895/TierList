<div class="container mt-4">
  <div class="row">
    <!-- Left Column: 2/3 Width -->
    <div class="col-lg-8 col-md-8">
      <div class="content-left border p-3">
        <!-- Content for the tier list will go here -->

        <%= render 'tier_list_rank' %>
      </div>
    </div>

    <!-- Right Column: 1/3 Width -->
    <div class="col-lg-4 col-md-4" >
      <div class="content-right border p-3" style="background-color: #f8f9fa;">
        <h3 class="text-left">Rank Items</h3>
        <hr class="mt-0">

        <div id="item-card" class="card bg-light text-dark position-relative mb-3" style="overflow: hidden;">
          <%= image_tag(@items.first[:image_url] || asset_path('egg.png'), 
                        id: "item-image", class: "card-img", alt: "Tier List Item",
                        style: "width: 100%; height: 300px; object-fit: cover;") %>
          <div class="position-absolute" style="background: rgba(0, 0, 0, 0.6); color: white; height: auto; width: 90%; bottom: 15px; left: 5%; padding: 10px; border-radius: 0px; border-left: 5px solid var(--bs-primary);">
            <h5 id="item-title" class="card-title mb-1" style="font-size: 1.2rem; margin-bottom: 0;">
              <%= @items.first[:name] || "No items available" %>
            </h5>
            <p id="item-description" class="card-text" style="font-size: 0.9rem;">
              <%= @items.first[:description] || "No item description available" %>
            </p>
          </div>
        </div>

        <div class="d-flex justify-content-between mt-3">
          <button id="prev-item" class="btn btn-secondary" disabled>Previous</button>
          <button id="next-item" class="btn btn-secondary">Next</button>
        </div>

<hr>

        <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
  <label class="form-check-label" for="inlineRadio1">1</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
  <label class="form-check-label" for="inlineRadio2">2</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3" disabled>
  <label class="form-check-label" for="inlineRadio3">3 (disabled)</label>
</div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
   const items = <%= raw @items.to_json %>; // Serialize items into JavaScript
   let currentIndex = 0;

   const titleElement = document.getElementById('item-title');
   const descriptionElement = document.getElementById('item-description');
   const imageElement = document.getElementById('item-image'); // Add reference to the image element
   const prevButton = document.getElementById('prev-item');
   const nextButton = document.getElementById('next-item');

   // Update the card content
   function updateCard() {
     const currentItem = items[currentIndex];
     titleElement.textContent = currentItem.name;
     descriptionElement.textContent = currentItem.description || "No description available";

     // Update the image dynamically
     imageElement.src = currentItem.image_url || "<%= asset_path('egg.png') %>"; // Fallback image

     // Enable/disable buttons
     prevButton.disabled = currentIndex === 0;
     nextButton.disabled = currentIndex === items.length - 1;
   }

   // Event listeners for navigation
   prevButton.addEventListener('click', function () {
     if (currentIndex > 0) {
       currentIndex--;
       updateCard();
     }
   });

   nextButton.addEventListener('click', function () {
     if (currentIndex < items.length - 1) {
       currentIndex++;
       updateCard();
     }
   });

   updateCard(); // Initialize the card
  });
</script>
